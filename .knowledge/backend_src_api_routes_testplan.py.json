{"is_source_file": true, "format": "Python", "description": "FastAPI route definitions for importing, listing, and retrieving test plans, suites, and test cases, including file upload handling and database interactions.", "external_files": ["src.api.db", "src.api.models", "src.api.schemas", "src.api.testplan_import"], "external_methods": ["get_db", "select", "func.count", "or_", "select", "IntegrityError", "Session", "APIRouter", "Depends", "File", "HTTPException", "Query", "UploadFile", "dumps_json_text", "normalize_rows", "parse_csv", "parse_xlsx"], "published": ["import_testplan", "list_suites", "list_suite_testcases"], "classes": [{"name": "APIRouter", "description": "FastAPI router instance for defining API endpoints."}], "methods": [{"name": "import_testplan", "description": "Handles uploading and importing test plan files (CSV/XLSX) into the database, creating suites and test cases."}, {"name": "list_suites", "description": "Returns a list of all test suites with their test case counts."}, {"name": "list_suite_testcases", "description": "Retrieves paginated test cases for a specific suite with optional filters."}], "calls": ["select", "db.execute", "db.add", "db.flush", "db.rollback", "db.commit", "scalar_one_or_none", "scalar_one", "list", "raise HTTPException"], "search-terms": ["test plan import", "suite listing", "test case retrieval", "file upload", "CSV XLSX parsing", "FastAPI routes"], "state": 2, "file_id": 9, "knowledge_revision": 31, "git_revision": "30d78b615f53bdbe40b88a50e350b9c9ce34c41c", "revision_history": [{"21": "30d78b615f53bdbe40b88a50e350b9c9ce34c41c"}, {"31": "30d78b615f53bdbe40b88a50e350b9c9ce34c41c"}], "ctags": [], "filename": "backend/src/api/routes_testplan.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/test-item-classifier-7040-7051.git:kavia-main"}