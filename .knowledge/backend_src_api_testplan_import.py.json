{"is_source_file": true, "format": "Python", "description": "This is a Python source file defining a module for parsing, normalizing, and importing test plan data from CSV and XLSX files. It includes classes for structured data representation, functions for handling various header synonyms, normalization routines, and external dependencies such as 'csv', 'openpyxl', and 'fastapi' for HTTP exception handling.", "external_files": ["openpyxl"], "external_methods": ["fastapi.HTTPException", "csv.DictReader", "json.dumps", "openpyxl.load_workbook"], "published": ["normalize_rows", "parse_csv", "parse_xlsx", "dumps_json_text"], "classes": [{"name": "NormalizedRow", "description": "Dataclass representing a normalized test plan import row with standard fields."}], "methods": [{"name": "str _norm_key(s: str)", "description": "Normalizes header keys by lowercasing and removing non-alphanumeric characters.", "scope": "", "scopeKind": ""}, {"name": "Dict[int,str] _map_headers(headers: Sequence[str])", "description": "Creates a mapping from column indices to standard header field names based on header normalization and synonyms.", "scope": "", "scopeKind": ""}, {"name": "Tuple[List[NormalizedRow],List[str]] normalize_rows(raw_rows: Iterable[Dict[str, Any]])", "description": "Converts raw row dictionaries into a list of normalized rows with standard fields and warnings.", "scope": "", "scopeKind": ""}, {"name": "List[Dict[str,Any]] parse_csv(file_bytes: bytes, max_rows: int = 50_000)", "description": "Parses a CSV file bytes into a list of row dictionaries.", "scope": "", "scopeKind": ""}, {"name": "List[Dict[str,Any]] parse_xlsx(file_bytes: bytes, max_rows: int = 50_000)", "description": "Parses an XLSX file bytes into a list of row dictionaries, interpreting the first row as headers.", "scope": "", "scopeKind": ""}, {"name": "Optional[str] dumps_json_text(value: Any)", "description": "Serializes a JSON-compatible value to a string or returns None if value is None.", "scope": "", "scopeKind": ""}, {"name": "Optional[str] _coerce_str(v: Any)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[List[str]] _split_multiline_steps(value: Optional[str])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[List[str]] _split_tags(value: Optional[str])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str,Any] to_preview_dict(self)", "scope": "NormalizedRow", "scopeKind": "class", "description": "unavailable"}], "calls": ["csv.DictReader", "json.dumps", "openpyxl.load_workbook", "fastapi.HTTPException"], "search-terms": ["test plan import", "CSV", "XLSX", "normalize test data", "test plan normalization", "test plan header mapping", "import test cases"], "state": 2, "file_id": 7, "knowledge_revision": 19, "git_revision": "30d78b615f53bdbe40b88a50e350b9c9ce34c41c", "ctags": [{"_type": "tag", "name": "NormalizedRow", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^class NormalizedRow:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_HEADER_SYNONYMS", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^_HEADER_SYNONYMS: Dict[str, str] = {$/", "language": "Python", "typeref": "typename:Dict[str, str]", "kind": "variable"}, {"_type": "tag", "name": "_STANDARD_FIELDS", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^_STANDARD_FIELDS = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_coerce_str", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^def _coerce_str(v: Any) -> Optional[str]:$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "function", "signature": "(v: Any)"}, {"_type": "tag", "name": "_map_headers", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^def _map_headers(headers: Sequence[str]) -> Dict[int, str]:$/", "language": "Python", "typeref": "typename:Dict[int,str]", "kind": "function", "signature": "(headers: Sequence[str])"}, {"_type": "tag", "name": "_norm_key", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^def _norm_key(s: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(s: str)"}, {"_type": "tag", "name": "_split_multiline_steps", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^def _split_multiline_steps(value: Optional[str]) -> Optional[List[str]]:$/", "language": "Python", "typeref": "typename:Optional[List[str]]", "kind": "function", "signature": "(value: Optional[str])"}, {"_type": "tag", "name": "_split_tags", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^def _split_tags(value: Optional[str]) -> Optional[List[str]]:$/", "language": "Python", "typeref": "typename:Optional[List[str]]", "kind": "function", "signature": "(value: Optional[str])"}, {"_type": "tag", "name": "dumps_json_text", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^def dumps_json_text(value: Any) -> Optional[str]:$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "function", "signature": "(value: Any)"}, {"_type": "tag", "name": "normalize_rows", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^def normalize_rows(raw_rows: Iterable[Dict[str, Any]]) -> Tuple[List[NormalizedRow], List[str]]:$/", "language": "Python", "typeref": "typename:Tuple[List[NormalizedRow],List[str]]", "kind": "function", "signature": "(raw_rows: Iterable[Dict[str, Any]])"}, {"_type": "tag", "name": "parse_csv", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^def parse_csv(file_bytes: bytes, max_rows: int = 50_000) -> List[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:List[Dict[str,Any]]", "kind": "function", "signature": "(file_bytes: bytes, max_rows: int = 50_000)"}, {"_type": "tag", "name": "parse_xlsx", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^def parse_xlsx(file_bytes: bytes, max_rows: int = 50_000) -> List[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:List[Dict[str,Any]]", "kind": "function", "signature": "(file_bytes: bytes, max_rows: int = 50_000)"}, {"_type": "tag", "name": "to_preview_dict", "path": "/home/kavia/workspace/code-generation/test-item-classifier-7040-7051/backend/src/api/testplan_import.py", "pattern": "/^    def to_preview_dict(self) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self)", "scope": "NormalizedRow", "scopeKind": "class"}], "hash": "687ca62f76469a53f12932cf984c258a", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/testplan_import.py", "fields": [{"name": "Dict[str, str] _HEADER_SYNONYMS", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_STANDARD_FIELDS = [", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19": "30d78b615f53bdbe40b88a50e350b9c9ce34c41c"}]}